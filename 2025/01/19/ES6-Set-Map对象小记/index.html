<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>syight主题</title>
    
<link rel="stylesheet" href="/css/style.css">

    
        <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.11.1/styles/github-dark.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/languages/go.min.js"></script>
        <script>hljs.highlightAll();</script>
    
<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <div id="header">
    <ul>
        
            <li><a href="/">
                首页
            </a></li>
        
            <li><a href="/archives">
                归档
            </a></li>
        
    </ul>
</div>
    <div id="header-placeHolder-box"></div>
    <!-- TODO: 添加文章目录 -->
<div id="post">
    <div id="post-title">
    <div id="title">ES6-Set&amp;Map对象小记</div>
    <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>
</div>
    <div id="article-container">
        <h1 id="Set-对象"><a href="#Set-对象" class="headerlink" title="Set 对象"></a>Set 对象</h1><h2 id="添加元素"><a href="#添加元素" class="headerlink" title="添加元素"></a>添加元素</h2><pre><code class="highlight js">set.<span class="title function_">add</span>(value)</code></pre>

<h2 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h2><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>has()</code></td>
<td>判断 <code>Set</code> 对象中特定元素是否存在</td>
</tr>
<tr>
<td><code>delete()</code></td>
<td>从 <code>Set</code> 对象中删除指定元素</td>
</tr>
<tr>
<td><code>clear()</code></td>
<td>清空 <code>Set</code> 对象</td>
</tr>
</tbody></table>
<h2 id="遍历方法"><a href="#遍历方法" class="headerlink" title="遍历方法"></a>遍历方法</h2><p>很容易想到使用<code>set.forEach(callBackFn, thisArg)</code>方法来进行遍历，其中<code>callBackFn</code>回调的形式如下：</p>
<pre><code class="highlight js">set.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">value, key, set</span>) &#123;
  <span class="comment">// value为set中的元素值</span>
  <span class="comment">// key与value相同</span>
  <span class="comment">// set对象本身</span>
&#125;, thisArg)
<span class="comment">//  thisArg 为this对象，为可选参数</span></code></pre>

<p>回调的参数依次为:</p>
<ul>
<li><strong>value</strong></li>
<li><strong>key</strong></li>
<li><strong>set</strong></li>
</ul>
<blockquote>
<p> 其中，为了和其他有<code>key</code>的对象保持一致，这里使用的<code>value</code>占位了第二个参数，所以<code>key</code>就是<code>value</code>的值。</p>
</blockquote>
<h1 id="Map-对象"><a href="#Map-对象" class="headerlink" title="Map 对象"></a>Map 对象</h1><h2 id="创建方法"><a href="#创建方法" class="headerlink" title="创建方法"></a>创建方法</h2><pre><code class="highlight js"><span class="comment">// 伪代码：</span>
<span class="keyword">new</span> <span class="title class_">Map</span>()
<span class="keyword">new</span> <span class="title class_">Map</span>(可迭代对象)

<span class="comment">// 实际代码的演示：</span>
<span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="string">&#x27;book&#x27;</span>, <span class="number">3</span>], [<span class="string">&#x27;pen&#x27;</span>, <span class="number">5</span>]])
<span class="variable language_">console</span>.<span class="title function_">log</span>(map)</code></pre>

<p>通常会传入一个二维数组作为可迭代对象，每个一位数组都是一个两元素的小数组，作为可迭代对象的键值对。</p>
<h2 id="添加元素-1"><a href="#添加元素-1" class="headerlink" title="添加元素"></a>添加元素</h2><pre><code class="highlight js"><span class="comment">// 伪代码</span>
map.<span class="title function_">set</span>(键, 值);

<span class="comment">// 实际代码的演示：</span>
<span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>()
map.<span class="title function_">set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="string">&#x27;书籍&#x27;</span>)
map.<span class="title function_">set</span>(<span class="literal">false</span>, <span class="string">&#x27;日用品&#x27;</span>)
map.<span class="title function_">set</span>(<span class="number">3</span>, <span class="string">&#x27;化妆品&#x27;</span>)
<span class="variable language_">console</span>.<span class="title function_">log</span>(map)</code></pre>

<h2 id="获取元素"><a href="#获取元素" class="headerlink" title="获取元素"></a>获取元素</h2><pre><code class="highlight js"><span class="comment">// 伪代码：</span>
map.<span class="title function_">get</span>(key)

<span class="comment">// 实际演示：</span>
<span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>()
map.<span class="title function_">set</span>(<span class="literal">false</span>, <span class="string">&#x27;日用品&#x27;</span>)
<span class="variable language_">console</span>.<span class="title function_">log</span>(map)

<span class="keyword">const</span> item = map.<span class="title function_">get</span>(<span class="literal">false</span>)
<span class="variable language_">console</span>.<span class="title function_">log</span>(item)</code></pre>

<h2 id="常用方法-1"><a href="#常用方法-1" class="headerlink" title="常用方法"></a>常用方法</h2><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>has()</code></td>
<td>判断 <code>Map</code> 对象中指定键对应的条目是否存在</td>
</tr>
<tr>
<td><code>delete()</code></td>
<td>从 <code>Map</code> 对象中删除指定键对应的条目</td>
</tr>
<tr>
<td><code>clear()</code></td>
<td>清空 <code>Map</code> 对象</td>
</tr>
</tbody></table>
<p>对应的实例：</p>
<pre><code class="highlight js"><span class="keyword">let</span> bookstore = <span class="keyword">new</span> <span class="title class_">Map</span>()
bookstore.<span class="title function_">set</span>(<span class="string">&#x27;《活着》&#x27;</span>, <span class="string">&#x27;余华&#x27;</span>)
bookstore.<span class="title function_">set</span>(<span class="string">&#x27;《平凡的世界》&#x27;</span>, <span class="string">&#x27;路遥&#x27;</span>)
bookstore.<span class="title function_">set</span>(<span class="string">&#x27;《三体》&#x27;</span>, <span class="string">&#x27;刘欣慈&#x27;</span>)
bookstore.<span class="title function_">set</span>(<span class="string">&#x27;《猫和老鼠》&#x27;</span>, <span class="string">&#x27;电影&#x27;</span>)
<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;《活着》是否存在：&#x27;</span>, bookstore.<span class="title function_">has</span>(<span class="string">&#x27;《活着》&#x27;</span>))

bookstore.<span class="title function_">delete</span>(<span class="string">&#x27;《猫和老鼠》&#x27;</span>)
<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;《猫和老鼠》是否存在：&#x27;</span>, bookstore.<span class="title function_">has</span>(<span class="string">&#x27;《猫和老鼠》&#x27;</span>))

bookstore.<span class="title function_">clear</span>()
<span class="variable language_">console</span>.<span class="title function_">log</span>(bookstore)</code></pre>

<h2 id="遍历方法-1"><a href="#遍历方法-1" class="headerlink" title="遍历方法"></a>遍历方法</h2><p>其中<code>callBackFn</code>回调中的参数依次为<code>value</code>,<code>key</code>,<code>map自身</code>，可以看得出来，<code>ES6</code>在<code>forEach</code>方法参数上的统一性。</p>
<pre><code class="highlight js"><span class="comment">// 伪代码：</span>
map.<span class="title function_">forEach</span>(callbackFn, thisArg)

<span class="comment">// 参考示例：</span>
<span class="keyword">const</span> userName = <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="number">1</span>, <span class="string">&#x27;小红&#x27;</span>], [<span class="number">2</span>, <span class="string">&#x27;小蓝&#x27;</span>], [<span class="number">3</span>, <span class="string">&#x27;小白&#x27;</span>]])
userName.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">value, key</span>) &#123;
  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;当前条目的键为：&#x27;</span>, key)
  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;当前条目的值为：&#x27;</span>, value)
&#125;)</code></pre>

<h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>实际上，还有<code>weakSet</code>和<code>weakMap</code>这两种垃圾回收机制更强的弱引用<code>Set</code>和<code>Map</code>，本文不再展开。</p>

    </div>
    <div id="menu-container">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Set-%E5%AF%B9%E8%B1%A1"><span class="toc-text">Set 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0"><span class="toc-text">添加元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">常用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E6%96%B9%E6%B3%95"><span class="toc-text">遍历方法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Map-%E5%AF%B9%E8%B1%A1"><span class="toc-text">Map 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B9%E6%B3%95"><span class="toc-text">创建方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0-1"><span class="toc-text">添加元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0"><span class="toc-text">获取元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-1"><span class="toc-text">常用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E6%96%B9%E6%B3%95-1"><span class="toc-text">遍历方法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%93%E8%AF%AD"><span class="toc-text">结语</span></a></li></ol>
</div>
</div>

</body>
</html>